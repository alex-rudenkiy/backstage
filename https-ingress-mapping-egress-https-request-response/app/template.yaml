apiVersion: v1
kind: Template
metadata:
  name: https-ingress-mapping-egress-https-request-response
objects:
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      template: {{cookiecutter.APP_NAME}}
      app: ingressgateway-{{cookiecutter.PROJECT_NAME}}
      app.kubernetes.io/component: gateways
      app.kubernetes.io/instance: {{cookiecutter.ISTIO_CONTROL_PLANE}}
      app.kubernetes.io/name: gateways
      app.kubernetes.io/part-of: istio
      chart: gateways
      heritage: Tiller
      istio: ingressgateway-{{cookiecutter.PROJECT_NAME}}
      release: istio
    name: ingressgateway-{{cookiecutter.PROJECT_NAME}}
  spec:
    progressDeadlineSeconds: 1200
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: ingressgateway-{{cookiecutter.PROJECT_NAME}}
        istio: ingressgateway-{{cookiecutter.PROJECT_NAME}}
    strategy:
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 1
      type: RollingUpdate
    template:
      metadata:
        annotations:
          sidecar.istio.io/inject: 'false'
        creationTimestamp: null
        labels:
          app: ingressgateway-{{cookiecutter.PROJECT_NAME}}
          chart: gateways
          heritage: Tiller
          istio: ingressgateway-{{cookiecutter.PROJECT_NAME}}
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - proxy
          - router
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --proxyLogLevel=warning
          - --proxyComponentLogLevel=misc:error
          - --log_output_level=default:info
          - --serviceCluster
          - ingressgateway-{{cookiecutter.PROJECT_NAME}}.$(POD_NAMESPACE)
          - --trust-domain=cluster.local
          env:
          - name: JWT_POLICY
            value: first-party-jwt
          - name: PILOT_CERT_PROVIDER
            value: istiod
          - name: CA_ADDR
            value: {{cookiecutter.ISTIOD_NAME}}.{{cookiecutter.ISTIO_CONTROL_PLANE}}.svc:15012
          - name: NODE_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.nodeName
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: HOST_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: SERVICE_ACCOUNT
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.serviceAccountName
          - name: CANONICAL_SERVICE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.labels['service.istio.io/canonical-name']
          - name: CANONICAL_REVISION
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.labels['service.istio.io/canonical-revision']
          - name: ISTIO_META_WORKLOAD_NAME
            value: ingressgateway-{{cookiecutter.PROJECT_NAME}}
          - name: ISTIO_META_OWNER
            value: kubernetes://apis/apps/v1/namespaces/{{cookiecutter.PROJECT_NAME}}/deployments/ingressgateway-{{cookiecutter.PROJECT_NAME}}
          - name: ISTIO_META_MESH_ID
            value: cluster.local
          - name: PROXY_CONFIG
            value: '{"discoveryAddress":"{{cookiecutter.ISTIOD_NAME}}.{{cookiecutter.ISTIO_CONTROL_PLANE}}.svc:15012","tracing":{"zipkin":{"address":"jaeger-collector.{{cookiecutter.ISTIO_CONTROL_PLANE}}.svc:9411"},"tlsSettings":{"subjectAltNames":[]}},"proxyMetadata":{"DNS_AGENT":""}}

              '
          - name: ISTIO_META_ROUTER_MODE
            value: sni-dnat
          - name: ISTIO_META_CLUSTER_ID
            value: Kubernetes
          image: {{cookiecutter.PROXY_IMAGE}}
          imagePullPolicy: Always
          name: istio-proxy
          ports:
          - containerPort: 15090
            name: http-envoy-prom
            protocol: TCP
          readinessProbe:
            failureThreshold: 30
            httpGet:
              path: /healthz/ready
              port: 15021
              scheme: HTTP
            initialDelaySeconds: 1
            periodSeconds: 2
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              cpu: 600m
              memory: 900Mi
            requests:
              cpu: 400m
              memory: 700Mi
          securityContext:
            privileged: false
            readOnlyRootFilesystem: true
            runAsNonRoot: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/istio/proxy
            name: istio-envoy
          - mountPath: /var/run/secrets/istio
            name: istiod-ca-cert
          - mountPath: /etc/istio/pod
            name: podinfo
          - name: ingressgateway-certs
            mountPath: /etc/istio/ingressgateway-certs
          - name: ingressgateway-ca-certs
            mountPath: /etc/istio/ingressgateway-ca-certs
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccountName: default
        terminationGracePeriodSeconds: 60
        volumes:
        - emptyDir: {}
          name: istio-envoy
        - configMap:
            defaultMode: 420
            name: istio-ca-root-cert
          name: istiod-ca-cert
        - name: ingressgateway-certs
          secret:
            secretName: istio-ingressgateway-certs
            defaultMode: 420
            optional: true
        - name: ingressgateway-ca-certs
          secret:
            secretName: istio-ingressgateway-ca-certs
            defaultMode: 420
            optional: true
        - downwardAPI:
            defaultMode: 256
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.labels
              path: labels
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.annotations
              path: annotations
          name: podinfo
- apiVersion: networking.istio.io/v1alpha3
  kind: Gateway
  metadata:
    name: ingressgateway-gw
    labels:
      template: {{cookiecutter.APP_NAME}}
  spec:
    selector:
      istio: ingressgateway-{{cookiecutter.PROJECT_NAME}}
    servers:
    - hosts:
      - ingress-{{cookiecutter.PROJECT_NAME}}.apps.{{cookiecutter.CLUSTER}}.sbercloud.ru
      port:
        name: https-{{cookiecutter.INGRESS_PORT}}
        number: {{cookiecutter.INGRESS_PORT}}
        protocol: HTTPS
      tls:
        caCertificates: /etc/istio/ingressgateway-ca-certs/ca-chain.cert.pem
        mode: SIMPLE
        privateKey: /etc/istio/ingressgateway-certs/tls.key
        serverCertificate: /etc/istio/ingressgateway-certs/tls.crt
- apiVersion: route.openshift.io/v1
  kind: Route
  metadata:
    labels:
      template: {{cookiecutter.APP_NAME}}
      app: ingressgateway-{{cookiecutter.PROJECT_NAME}}
      istio: ingressgateway-{{cookiecutter.PROJECT_NAME}}
    name: ingressgateway-https
  spec:
    host: ingress-{{cookiecutter.PROJECT_NAME}}.apps.{{cookiecutter.CLUSTER}}.sbercloud.ru
    port:
      targetPort: https-{{cookiecutter.INGRESS_PORT}}
    tls:
      termination: passthrough
    to:
      kind: Service
      name: ingressgateway-svc
- kind: Secret
  apiVersion: v1
  metadata:
    name: istio-ingressgateway-certs
  data:
    tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlFQ1RDQ0F2R2dBd0lCQWdJQkFEQU5CZ2txaGtpRzl3MEJBUXNGQURBck1SQXdEZ1lEVlFRS0RBZFRlVzVoDQpjSE5sTVJjd0ZRWURWUVFEREE1emVXMXdiR1V1YzJKbGNpNXlkVEFlRncweU1URXlNVEF4TlRNek16bGFGdzB5DQpPREEyTURFeE5UTXpNemxhTUdBeEN6QUpCZ05WQkFZVEFsSlZNUTh3RFFZRFZRUUlEQVpOYjNOamIzY3hEekFODQpCZ05WQkFjTUJrMXZjMk52ZHpFTk1Bc0dBMVVFQ2d3RVUySmxjakVnTUI0R0ExVUVBd3dYS2k1a1pYWXRaMlZ1DQpMbVJsYkhSaExuTmljbVl1Y25Vd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURlDQpObUQ0bmpKTVFWN2JQeDh4OWYwTDV5MmJvV1NHZ3pkTzFQazJIc3FFa3p3NTJNbi83YUhjU1ROZjRKcklRejQ1DQpFc1FneVIxbkZPajVhb2U3aVJKbHNVQnQza2RQNWRnUmZ4ZGZyelo4dU9wQThuOWVpdGtZY3cwTnpzamdWVDg4DQpGZUwxSlB4aGhYSG8wNTYvNVNPSS9ueVdMcHB4RURxaEFVRWVjSTZmR0Y2b3BtcnpqMXk4SkZFaVVlQ0hraFJuDQpNdDFyOCt3T21tSWJMVU1oSkU3RTF1aGlMSEVDRExOOWIxMURFRUhuUDFMYzhnb2ZyYnpwbU5pVXpzSWh2QUlEDQpBOWFLK0hiTCtiNWtENlFXWno0c281R21KaThFbzBkOGoxYTI5dXY3ZmhUZ1dBcGhpNHoza05jclQ0SzBYZTc5DQo2MkRDWFgyUFRObUZkQ0NvY1FTaEFnTUJBQUdqZ2dFQk1JSCtNSUg3QmdOVkhSRUVnZk13Z2ZDQ0hDb3VZWEJ3DQpjeTVrWlhZdFoyVnVMbVJsYkhSaExuTmljbVl1Y25XQ0d5b3VjMmd4TG1SbGRpMW5aVzR1WkdWc2RHRXVjMkp5DQpaaTV5ZFlJYktpNXphREl1WkdWMkxXZGxiaTVrWld4MFlTNXpZbkptTG5KMWdoc3FMbk5vTXk1a1pYWXRaMlZ1DQpMbVJsYkhSaExuTmljbVl1Y25XQ0d5b3VjMmcwTG1SbGRpMW5aVzR1WkdWc2RHRXVjMkp5Wmk1eWRZSWJLaTV6DQphRFV1WkdWMkxXZGxiaTVrWld4MFlTNXpZbkptTG5KMWdpQXFMbVJsZGkxaGNIQnpMbTlqY0MxblpXOHVaR1ZzDQpkR0V1YzJKeVppNXlkWUlkS2k1a1pYWXRZWEJ3Y3k1dlkzQXRaMlZ2TG1OaExuTmljbVl1Y25Vd0RRWUpLb1pJDQpodmNOQVFFTEJRQURnZ0VCQUJzdk1penJ6QVM1dlhOWksxOTJuYmo0UjQxMktDaHJYRFNPSDI1MklEL2xKYys5DQo2QS85cmJoaitkYVRTU2c4d3FQUlIzVzhmQTB5Wm5NV3cxVUxhMjl4aWtySlFoVTFrTlJ2UXBHQTJJY05DY0RHDQpZTG52VXlNRi9DVVdyNWtGUVBZd0RLdVN6bUFHM0hFVlJ3ajJrS3U0VUpqSjVaM3FvZjlkTGpUTWU0QnJYZDR5DQpmSGJSMDdxc29ERFAzeHZuUTZaVVZUNG92eksxWlNCQlY1TzZPenpHRU8reUFVNEFPZlMrbVJYVmNyU2F0QWozDQpEK21ENWRyNFNBMmlXbHFhak9YL3RXRUlpZGJWUnpEUm4xZmw5bEhybXBjdG5Oczdhc1V6YytPSkF5OGZHV3JWDQp3eE9LL2xIVzlTcnJ6OFBXTXZGOEpyZDdkSXJuUDhRZ00rblMxYnc9DQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo=
    tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tDQpNSUlFdmdJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLZ3dnZ1NrQWdFQUFvSUJBUURlTm1ENG5qSk1RVjdiDQpQeDh4OWYwTDV5MmJvV1NHZ3pkTzFQazJIc3FFa3p3NTJNbi83YUhjU1ROZjRKcklRejQ1RXNRZ3lSMW5GT2o1DQphb2U3aVJKbHNVQnQza2RQNWRnUmZ4ZGZyelo4dU9wQThuOWVpdGtZY3cwTnpzamdWVDg4RmVMMUpQeGhoWEhvDQowNTYvNVNPSS9ueVdMcHB4RURxaEFVRWVjSTZmR0Y2b3BtcnpqMXk4SkZFaVVlQ0hraFJuTXQxcjgrd09tbUliDQpMVU1oSkU3RTF1aGlMSEVDRExOOWIxMURFRUhuUDFMYzhnb2ZyYnpwbU5pVXpzSWh2QUlEQTlhSytIYkwrYjVrDQpENlFXWno0c281R21KaThFbzBkOGoxYTI5dXY3ZmhUZ1dBcGhpNHoza05jclQ0SzBYZTc5NjJEQ1hYMlBUTm1GDQpkQ0NvY1FTaEFnTUJBQUVDZ2dFQkFNRGt2NFRSL3FPSFU0cEszdytGazZZVGhkbkZYZmdPUzZLWTZjUjdNaDJuDQptZTQxTEJTSCthdTV0MmtSRmd1bG80dnpxR0UxYzlxWm9pdHd1R2FvOUZsbVpxRjVCTHBzc1FWdko2RWQvZFNDDQp5SWFjZXNoZEMxdFg5QXI2YUJHa3JvSEFGZ1hybDFJb2Z0czNhR1QzeWNNUDlxSi96ZjA3czBrMFI0emU5RTlSDQpQMlBJUEtsWk9HdHhIUVp6ZVRaeTZxTHhEeU5YYWFXTk1rbGo4TEZpbk56WnNFMkEyUWQzdThKRU1ldm1JRUp5DQpKZEJIYVFMS3E1Yy9kYmdyV1pZODUvL1JjN2dCdk9Ka2xmUTBUZ3U5Q3M4OFh1KzlTRGptdHltRjdyV3NLRkV4DQovNTZBK3MyN0JQYVMyVkFsbnhUbHBXc28wbUhEUm5ZWGlLOXFUY25TRElrQ2dZRUEvZlF1YWxRSnVieFlqQWRCDQpVZi93eHRjazJ5d0VlUFRDV3dxN04wU1lnb2h6ZHVrOHlJbjVnNlUvd1Y5UGk0dyt2TkZFbU1JVXEyZUtIdGtwDQpvOUlEbjZpcUdXRWRsOGxIWE1wS1lmaDVMbWM4SDFzdVFtZlVXQytrbTJZRWJ1ek9CSmcxTmFOMVd2UVBEUkw5DQpSWk10UnZHcGY4ZU9veXNuZUI3eVJOSjdTaXNDZ1lFQTRBQzUxOWpIaU5NaHgzY3ozNkwyUS9PWUdnc2hndDFEDQpJcDU2ellPRjMvS3JITmQ1WVVkdGJuNEVWa0h4MmNSb0NiV2RuWWJmWDVCYWYrdDNHbmhuL3lkUzhqWDlPbnZ4DQozNXFJeTl2cFRGa0JRSzl4QnF6WnptZXZ2Sjk1elFoZ29LTCszdSttUjRpN2M2cExUL2tURnpFc2JPRWRkT0JEDQpPcmxSdHBnTkFtTUNnWUVBaFdoTktkWlQ5WnFYK1plbUhPbVRGeUhXWHJ6VTdLWEhwQVFUTFlsL2hMTWgxUW5aDQp3SSthNENsalFMWk5GMFhwZjA5LzlhK2ZKQndVVnZoR0E2VkQrZytrckFoMGYxUmhoTUZRS2Y5WnlhSzUxczhUDQpraGJ4V2hKTktzV0E5clMzMVhvUUdjbHcwUUw5RlNVd24rZ2RGUFBHMHpXR0hQbUNsbnZMVVpRdzZGa0NnWUFNDQpCLzN6V2ZGZHAvbG9mVDZNQkhTMXNaKzV4bDlHYUJ2ekFCQVllYmYzRDFHaGV2RktDRXdZWXl4WWRiSkh3QVRXDQpnS3EyaTBmMEdnekNVaU5UaUtRTlVFOWtNd0ltNGdGYndURVh3ZmdGNGNIdmQzemFudTRUNS8zSVk4aG0rc3cxDQoxSXRiN2dOQVZGZTlIcWhzNHpQalN3RFgyRDk4eDQ3VTJKOUs3MS9EZ1FLQmdBVUxoV2N0SngwQXFhZDdnMlhDDQpieWZPUmI3WDBnLys1d1JpckR6V3ZJWWswZjdXb0ZHNERhaXloR0R2bDJlK1FhbkYrV1pPcGxCZkc5MGV2cEtRDQpGdVFQNDBqS2xBWTJuVTUyYVUzSC90V1BlTjUzYXJhUGsrd1lpVU52VFQ5OEowYjlic3BOb3hJS0hITXJJckRTDQpYUHJlMHVVdWRHcFcxWEpkTEc4MXM4VkMNCi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0NCg==
  type: Opaque
- kind: Secret
  apiVersion: v1
  metadata:
    name: istio-ingressgateway-ca-certs
  data:
    ca-chain.cert.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlETnpDQ0FoK2dBd0lCQWdJVWNyV3oxT0QrcDlkVVNnOVk5NUw5QnpKNUYya3dEUVlKS29aSWh2Y05BUUVMDQpCUUF3S3pFUU1BNEdBMVVFQ2d3SFUzbHVZWEJ6WlRFWE1CVUdBMVVFQXd3T2MzbHRjR3hsTG5OaVpYSXVjblV3DQpIaGNOTWpFeE1qRXdNVFV6TXpJMVdoY05NekV3TWpJMk1UVXpNekkxV2pBck1SQXdEZ1lEVlFRS0RBZFRlVzVoDQpjSE5sTVJjd0ZRWURWUVFEREE1emVXMXdiR1V1YzJKbGNpNXlkVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEDQpnZ0VQQURDQ0FRb0NnZ0VCQUptTHVBd05OczJYRzVvNC9JaGZiN0VwM3NLK2N5UVFkMWNGdmRBL2U2OHZmUWwzDQpTYnAvK2tOOURtM2ZUS20rVkVoK2FKc1pleXJrWmVzMGZlRmg1UllSV1lReHFnQzRRYjI2NWJkRUdPT0w0TCtBDQpLQTFOWmJERFVPOExOWTRRZG5sdCtvdEtnbm5EOFhGNVBGSTIyTUhwRCtCZy9CcHZrcUFQNEN3bDVvV0FYWVdIDQoxaXV3Q3FYRmpIWlVnOFRFWWlKUGlxQmtuUXl2REdINkxKcGdoK3AxNlNuSExsU0NVbWNJeCtVMHJtenJWQkI4DQo5T2c0RjVROWlXSUE3SHN3YkViSWg5WG5IYmlXdGtnY2RWck5KNE9vdjVheS9HY1FnT1U0ZU1qWnNpYmMwa2Z6DQpTcnlOU3hIaXVCSWd6eGR6YllrNDZqM3Z5YWxMRU13dHJsdk51d2tDQXdFQUFhTlRNRkV3SFFZRFZSME9CQllFDQpGT05FZHRVZmlocGxZak5CcEhVSnJ5bm1qZEo2TUI4R0ExVWRJd1FZTUJhQUZPTkVkdFVmaWhwbFlqTkJwSFVKDQpyeW5tamRKNk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFJeFVlSEFpDQppTHRTMVd3Ui9PNVplSC9icHoxWC9LZS9WOUlKYTZyVjJNTFhTQXY3N0cxOXRYVk05bjNRK2puaFkzTEk5Z2x3DQpXc255d21VVE96TGdQSll2R2R3bkptMmZFL0U3RnNuUnFsMWFHdVU3RjZvb2xyT3N3bi9ETUtlYXUzVUIvb1pkDQo0VUplbmNNQStCV2JmVDk4emFaZkI4L2F0R21EQ0JkQXBLbUpPdCswTytlaHU0SE1iRDAyMm5IVHg2eDdpbjYvDQo3K0NXc2IvZVZZZEtuZ2QrUmN0VUlBSUExZXNIS1FUQ29VcnJiL1AzcGRxSnIyWGoxS0tKNGNnWnQ4a1dDbmloDQo4YkZUWWVKSWZsZjBWVERkcnIvdFZtc1F0SStINExNVThjTVBqWnQ4MlVsYlBmU0s2MktnakNCZnc0dmh4eVNDDQpxWU5xYzJTNHowb1hPVnM9DQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo=
  type: Opaque
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      template: {{cookiecutter.APP_NAME}}
      app: ingressgateway-{{cookiecutter.PROJECT_NAME}}
      istio: ingressgateway-{{cookiecutter.PROJECT_NAME}}
    name: ingressgateway-svc
  spec:
    ports:
    - name: status-port
      port: 15021
      protocol: TCP
      targetPort: 15021
    - name: https-{{cookiecutter.INGRESS_PORT}}
      protocol: TCP
      port: {{cookiecutter.INGRESS_PORT}}
      targetPort: {{cookiecutter.INGRESS_PORT}}
    selector:
      app: ingressgateway-{{cookiecutter.PROJECT_NAME}}
      istio: ingressgateway-{{cookiecutter.PROJECT_NAME}}
- kind: Deployment
  apiVersion: apps/v1
  metadata:
    name: {{cookiecutter.APP_NAME}}
    labels:
      template: {{cookiecutter.APP_NAME}}
      app: {{cookiecutter.APP_NAME}}
  spec:
    selector:
      matchLabels:
        app: {{cookiecutter.APP_NAME}}
    replicas: 1
    template:
      metadata:
        labels:
          app: {{cookiecutter.APP_NAME}}
        annotations:
          sidecar.istio.io/inject: 'true'
      spec:
        volumes:
        - name: app-config
          configMap:
            name: {{cookiecutter.APP_NAME}}-cm
            defaultMode: 420
        containers:
        - name: {{cookiecutter.APP_NAME}}
          image: {{cookiecutter.UNIMAPPER_IMAGE}}
          ports:
          - containerPort: 8787
            protocol: TCP
          env:
          - name: PROJECT_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          envFrom:
          - configMapRef:
              name: {{cookiecutter.APP_NAME}}-cm
          volumeMounts:
          - name: app-config
            readOnly: true
            mountPath: /schemas
          resources:
            limits:
              cpu: 200m
              memory: 200Mi
            requests:
              cpu: 150m
              memory: 100Mi
- kind: Service
  apiVersion: v1
  metadata:
    name: {{cookiecutter.APP_NAME}}-svc
  spec:
    selector:
      app: {{cookiecutter.APP_NAME}}
    ports:
    - name: http
      protocol: TCP
      port: 8787
      targetPort: 8787
- kind: ConfigMap
  apiVersion: v1
  metadata:
    name: {{cookiecutter.APP_NAME}}-cm
    labels:
      app: {{cookiecutter.APP_NAME}}
  data:
    TRANSFORM_RESPONSE: 'true'
    LOG_LEVEL: debug
    JSON_REQUEST: /schemas/json-request.json
    JSON_RESPONSE: /schemas/json-response.json
    json-request.json: '[{{cookiecutter.MAPPING_JSON_RQ}}]'
    json-response.json: '[{{cookiecutter.MAPPING_JSON_RS}}]'
- apiVersion: networking.istio.io/v1alpha3
  kind: VirtualService
  metadata:
    name: {{cookiecutter.APP_NAME}}-ingress-vs
  spec:
    exportTo:
    - .
    gateways:
    - ingressgateway-gw
    hosts:
    - '*'
    http:
    - match:
      - uri:
          prefix: /{{cookiecutter.INTERNAL_PREFIX}}
      route:
      - destination:
          host: {{cookiecutter.APP_NAME}}-svc
          port:
            number: 8787
- apiVersion: networking.istio.io/v1alpha3
  kind: ServiceEntry
  metadata:
    name: {{cookiecutter.APP_NAME}}-external-host
  spec:
    exportTo:
    - .
    hosts:
    - {{cookiecutter.TEST_APP_URL}}
    ports:
    - name: https-{{cookiecutter.EXTERNAL_PORT}}
      number: {{cookiecutter.EXTERNAL_PORT}}
      protocol: HTTPS
    - name: http-{{cookiecutter.EGRESS_PORT}}
      number: {{cookiecutter.EGRESS_PORT}}
      protocol: HTTP
    resolution: DNS
- apiVersion: networking.istio.io/v1alpha3
  kind: VirtualService
  metadata:
    name: {{cookiecutter.APP_NAME}}-egress-vs
  spec:
    exportTo:
    - .
    gateways:
    - {{cookiecutter.APP_NAME}}-egressgateway-gw
    - mesh
    hosts:
    - {{cookiecutter.TEST_APP_URL}}
    http:
    - match:
      - gateways:
        - mesh
        port: {{cookiecutter.EGRESS_PORT}}
      route:
      - destination:
          host: egressgateway-svc
          port:
            number: {{cookiecutter.EGRESS_PORT}}
    - match:
      - gateways:
        - {{cookiecutter.APP_NAME}}-egressgateway-gw
        port: {{cookiecutter.EGRESS_PORT}}
      route:
      - destination:
          host: {{cookiecutter.TEST_APP_URL}}
          port:
            number: {{cookiecutter.EXTERNAL_PORT}}
- apiVersion: networking.istio.io/v1alpha3
  kind: Gateway
  metadata:
    labels:
      template: {{cookiecutter.APP_NAME}}
    name: {{cookiecutter.APP_NAME}}-egressgateway-gw
  spec:
    selector:
      istio: egressgateway-{{cookiecutter.PROJECT_NAME}}
    servers:
    - hosts:
      - {{cookiecutter.TEST_APP_URL}}
      port:
        name: http-{{cookiecutter.EGRESS_PORT}}
        number: {{cookiecutter.EGRESS_PORT}}
        protocol: HTTP
- apiVersion: networking.istio.io/v1alpha3
  kind: DestinationRule
  metadata:
    name: {{cookiecutter.APP_NAME}}-external-host-dr
  spec:
    exportTo:
    - .
    host: {{cookiecutter.TEST_APP_URL}}
    trafficPolicy:
      loadBalancer:
        simple: ROUND_ROBIN
      portLevelSettings:
      - port:
          number: {{cookiecutter.EXTERNAL_PORT}}
        tls:
          caCertificates: /etc/istio/egressgateway-ca-certs/ca-chain.cert.pem
          clientCertificate: /etc/istio/egressgateway-certs/tls.crt
          mode: MUTUAL
          privateKey: /etc/istio/egressgateway-certs/tls.key
          sni: {{cookiecutter.TEST_APP_URL}}
- kind: Deployment
  apiVersion: apps/v1
  metadata:
    name: egressgateway-{{cookiecutter.PROJECT_NAME}}
    labels:
      template: {{cookiecutter.APP_NAME}}
      app: egressgateway-{{cookiecutter.PROJECT_NAME}}
      app.kubernetes.io/part-of: istio
      app.kubernetes.io/instance: {{cookiecutter.ISTIO_CONTROL_PLANE}}
      release: istio
      app.kubernetes.io/version: 2.0.1-6.el8-75
      app.kubernetes.io/component: gateways
      istio: egressgateway-{{cookiecutter.PROJECT_NAME}}
      app.kubernetes.io/managed-by: maistra-istio-operator
      app.kubernetes.io/name: gateways
      chart: gateways
      heritage: Tiller
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: egressgateway-{{cookiecutter.PROJECT_NAME}}
        istio: egressgateway-{{cookiecutter.PROJECT_NAME}}
    template:
      metadata:
        namespace: {{cookiecutter.PROJECT_NAME}}
        creationTimestamp: null
        labels:
          app: egressgateway-{{cookiecutter.PROJECT_NAME}}
          chart: gateways
          heritage: Tiller
          istio: egressgateway-{{cookiecutter.PROJECT_NAME}}
          release: istio
        annotations:
          sidecar.istio.io/inject: 'false'
      spec:
        restartPolicy: Always
        serviceAccountName: default
        schedulerName: default-scheduler
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
            preferredDuringSchedulingIgnoredDuringExecution:
            - weight: 2
              preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
            - weight: 2
              preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
            - weight: 2
              preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
        terminationGracePeriodSeconds: 60
        securityContext: {}
        containers:
        - resources:
            limits:
              cpu: 600m
              memory: 900Mi
            requests:
              cpu: 400m
              memory: 700Mi
          readinessProbe:
            httpGet:
              path: /healthz/ready
              port: 15021
              scheme: HTTP
            initialDelaySeconds: 1
            timeoutSeconds: 5
            periodSeconds: 2
            successThreshold: 1
            failureThreshold: 30
          terminationMessagePath: /dev/termination-log
          name: istio-proxy
          env:
          - name: JWT_POLICY
            value: first-party-jwt
          - name: PILOT_CERT_PROVIDER
            value: istiod
          - name: CA_ADDR
            value: {{cookiecutter.ISTIOD_NAME}}.{{cookiecutter.ISTIO_CONTROL_PLANE}}.svc:15012
          - name: NODE_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.nodeName
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: HOST_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: SERVICE_ACCOUNT
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.serviceAccountName
          - name: CANONICAL_SERVICE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.labels['service.istio.io/canonical-name']
          - name: CANONICAL_REVISION
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.labels['service.istio.io/canonical-revision']
          - name: ISTIO_META_WORKLOAD_NAME
            value: egressgateway-{{cookiecutter.PROJECT_NAME}}
          - name: ISTIO_META_OWNER
            value: kubernetes://apis/apps/v1/namespaces/{{cookiecutter.PROJECT_NAME}}/deployments/ingressgateway-{{cookiecutter.PROJECT_NAME}}
          - name: ISTIO_META_MESH_ID
            value: cluster.local
          - name: PROXY_CONFIG
            value: '{"discoveryAddress":"{{cookiecutter.ISTIOD_NAME}}.{{cookiecutter.ISTIO_CONTROL_PLANE}}.svc:15012","tracing":{"zipkin":{"address":"jaeger-collector.{{cookiecutter.ISTIO_CONTROL_PLANE}}.svc:9411"},"tlsSettings":{"subjectAltNames":[]}},"proxyMetadata":{"DNS_AGENT":""}}

              '
          - name: ISTIO_META_ROUTER_MODE
            value: sni-dnat
          - name: ISTIO_META_CLUSTER_ID
            value: Kubernetes
          ports:
          - name: http-envoy-prom
            containerPort: 15090
            protocol: TCP
          imagePullPolicy: IfNotPresent
          volumeMounts:
          - name: istio-envoy
            mountPath: /etc/istio/proxy
          - name: istiod-ca-cert
            mountPath: /var/run/secrets/istio
          - name: podinfo
            mountPath: /etc/istio/pod
          - name: egressgateway-certs
            readOnly: true
            mountPath: /etc/istio/egressgateway-certs
          - name: egressgateway-ca-certs
            readOnly: true
            mountPath: /etc/istio/egressgateway-ca-certs
          terminationMessagePolicy: File
          image: {{cookiecutter.PROXY_IMAGE}}
          args:
          - proxy
          - router
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --proxyLogLevel=warning
          - --proxyComponentLogLevel=misc:error
          - --log_output_level=default:info
          - --serviceCluster
          - egressgateway-{{cookiecutter.PROJECT_NAME}}.$(POD_NAMESPACE)
          - --trust-domain=cluster.local
        serviceAccount: default
        volumes:
        - name: istio-envoy
          emptyDir: {}
        - name: istiod-ca-cert
          configMap:
            name: istio-ca-root-cert
            defaultMode: 420
        - name: egressgateway-certs
          secret:
            secretName: istio-egressgateway-certs
            defaultMode: 420
            optional: true
        - name: egressgateway-ca-certs
          secret:
            secretName: istio-egressgateway-ca-certs
            defaultMode: 420
            optional: true
        - name: podinfo
          downwardAPI:
            items:
            - path: labels
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.labels
            - path: annotations
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.annotations
            defaultMode: 256
        dnsPolicy: ClusterFirst
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      template: {{cookiecutter.APP_NAME}}
    name: egressgateway-svc
  spec:
    ports:
    - name: http-{{cookiecutter.EGRESS_PORT}}
      port: {{cookiecutter.EGRESS_PORT}}
    selector:
      app: egressgateway-{{cookiecutter.PROJECT_NAME}}
      istio: egressgateway-{{cookiecutter.PROJECT_NAME}}
- kind: Secret
  apiVersion: v1
  metadata:
    name: istio-egressgateway-certs
  data:
    tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlFQ1RDQ0F2R2dBd0lCQWdJQkFEQU5CZ2txaGtpRzl3MEJBUXNGQURBck1SQXdEZ1lEVlFRS0RBZFRlVzVoDQpjSE5sTVJjd0ZRWURWUVFEREE1emVXMXdiR1V1YzJKbGNpNXlkVEFlRncweU1URXlNVEF4TlRNek16bGFGdzB5DQpPREEyTURFeE5UTXpNemxhTUdBeEN6QUpCZ05WQkFZVEFsSlZNUTh3RFFZRFZRUUlEQVpOYjNOamIzY3hEekFODQpCZ05WQkFjTUJrMXZjMk52ZHpFTk1Bc0dBMVVFQ2d3RVUySmxjakVnTUI0R0ExVUVBd3dYS2k1a1pYWXRaMlZ1DQpMbVJsYkhSaExuTmljbVl1Y25Vd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURlDQpObUQ0bmpKTVFWN2JQeDh4OWYwTDV5MmJvV1NHZ3pkTzFQazJIc3FFa3p3NTJNbi83YUhjU1ROZjRKcklRejQ1DQpFc1FneVIxbkZPajVhb2U3aVJKbHNVQnQza2RQNWRnUmZ4ZGZyelo4dU9wQThuOWVpdGtZY3cwTnpzamdWVDg4DQpGZUwxSlB4aGhYSG8wNTYvNVNPSS9ueVdMcHB4RURxaEFVRWVjSTZmR0Y2b3BtcnpqMXk4SkZFaVVlQ0hraFJuDQpNdDFyOCt3T21tSWJMVU1oSkU3RTF1aGlMSEVDRExOOWIxMURFRUhuUDFMYzhnb2ZyYnpwbU5pVXpzSWh2QUlEDQpBOWFLK0hiTCtiNWtENlFXWno0c281R21KaThFbzBkOGoxYTI5dXY3ZmhUZ1dBcGhpNHoza05jclQ0SzBYZTc5DQo2MkRDWFgyUFRObUZkQ0NvY1FTaEFnTUJBQUdqZ2dFQk1JSCtNSUg3QmdOVkhSRUVnZk13Z2ZDQ0hDb3VZWEJ3DQpjeTVrWlhZdFoyVnVMbVJsYkhSaExuTmljbVl1Y25XQ0d5b3VjMmd4TG1SbGRpMW5aVzR1WkdWc2RHRXVjMkp5DQpaaTV5ZFlJYktpNXphREl1WkdWMkxXZGxiaTVrWld4MFlTNXpZbkptTG5KMWdoc3FMbk5vTXk1a1pYWXRaMlZ1DQpMbVJsYkhSaExuTmljbVl1Y25XQ0d5b3VjMmcwTG1SbGRpMW5aVzR1WkdWc2RHRXVjMkp5Wmk1eWRZSWJLaTV6DQphRFV1WkdWMkxXZGxiaTVrWld4MFlTNXpZbkptTG5KMWdpQXFMbVJsZGkxaGNIQnpMbTlqY0MxblpXOHVaR1ZzDQpkR0V1YzJKeVppNXlkWUlkS2k1a1pYWXRZWEJ3Y3k1dlkzQXRaMlZ2TG1OaExuTmljbVl1Y25Vd0RRWUpLb1pJDQpodmNOQVFFTEJRQURnZ0VCQUJzdk1penJ6QVM1dlhOWksxOTJuYmo0UjQxMktDaHJYRFNPSDI1MklEL2xKYys5DQo2QS85cmJoaitkYVRTU2c4d3FQUlIzVzhmQTB5Wm5NV3cxVUxhMjl4aWtySlFoVTFrTlJ2UXBHQTJJY05DY0RHDQpZTG52VXlNRi9DVVdyNWtGUVBZd0RLdVN6bUFHM0hFVlJ3ajJrS3U0VUpqSjVaM3FvZjlkTGpUTWU0QnJYZDR5DQpmSGJSMDdxc29ERFAzeHZuUTZaVVZUNG92eksxWlNCQlY1TzZPenpHRU8reUFVNEFPZlMrbVJYVmNyU2F0QWozDQpEK21ENWRyNFNBMmlXbHFhak9YL3RXRUlpZGJWUnpEUm4xZmw5bEhybXBjdG5Oczdhc1V6YytPSkF5OGZHV3JWDQp3eE9LL2xIVzlTcnJ6OFBXTXZGOEpyZDdkSXJuUDhRZ00rblMxYnc9DQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo=
    tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tDQpNSUlFdmdJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLZ3dnZ1NrQWdFQUFvSUJBUURlTm1ENG5qSk1RVjdiDQpQeDh4OWYwTDV5MmJvV1NHZ3pkTzFQazJIc3FFa3p3NTJNbi83YUhjU1ROZjRKcklRejQ1RXNRZ3lSMW5GT2o1DQphb2U3aVJKbHNVQnQza2RQNWRnUmZ4ZGZyelo4dU9wQThuOWVpdGtZY3cwTnpzamdWVDg4RmVMMUpQeGhoWEhvDQowNTYvNVNPSS9ueVdMcHB4RURxaEFVRWVjSTZmR0Y2b3BtcnpqMXk4SkZFaVVlQ0hraFJuTXQxcjgrd09tbUliDQpMVU1oSkU3RTF1aGlMSEVDRExOOWIxMURFRUhuUDFMYzhnb2ZyYnpwbU5pVXpzSWh2QUlEQTlhSytIYkwrYjVrDQpENlFXWno0c281R21KaThFbzBkOGoxYTI5dXY3ZmhUZ1dBcGhpNHoza05jclQ0SzBYZTc5NjJEQ1hYMlBUTm1GDQpkQ0NvY1FTaEFnTUJBQUVDZ2dFQkFNRGt2NFRSL3FPSFU0cEszdytGazZZVGhkbkZYZmdPUzZLWTZjUjdNaDJuDQptZTQxTEJTSCthdTV0MmtSRmd1bG80dnpxR0UxYzlxWm9pdHd1R2FvOUZsbVpxRjVCTHBzc1FWdko2RWQvZFNDDQp5SWFjZXNoZEMxdFg5QXI2YUJHa3JvSEFGZ1hybDFJb2Z0czNhR1QzeWNNUDlxSi96ZjA3czBrMFI0emU5RTlSDQpQMlBJUEtsWk9HdHhIUVp6ZVRaeTZxTHhEeU5YYWFXTk1rbGo4TEZpbk56WnNFMkEyUWQzdThKRU1ldm1JRUp5DQpKZEJIYVFMS3E1Yy9kYmdyV1pZODUvL1JjN2dCdk9Ka2xmUTBUZ3U5Q3M4OFh1KzlTRGptdHltRjdyV3NLRkV4DQovNTZBK3MyN0JQYVMyVkFsbnhUbHBXc28wbUhEUm5ZWGlLOXFUY25TRElrQ2dZRUEvZlF1YWxRSnVieFlqQWRCDQpVZi93eHRjazJ5d0VlUFRDV3dxN04wU1lnb2h6ZHVrOHlJbjVnNlUvd1Y5UGk0dyt2TkZFbU1JVXEyZUtIdGtwDQpvOUlEbjZpcUdXRWRsOGxIWE1wS1lmaDVMbWM4SDFzdVFtZlVXQytrbTJZRWJ1ek9CSmcxTmFOMVd2UVBEUkw5DQpSWk10UnZHcGY4ZU9veXNuZUI3eVJOSjdTaXNDZ1lFQTRBQzUxOWpIaU5NaHgzY3ozNkwyUS9PWUdnc2hndDFEDQpJcDU2ellPRjMvS3JITmQ1WVVkdGJuNEVWa0h4MmNSb0NiV2RuWWJmWDVCYWYrdDNHbmhuL3lkUzhqWDlPbnZ4DQozNXFJeTl2cFRGa0JRSzl4QnF6WnptZXZ2Sjk1elFoZ29LTCszdSttUjRpN2M2cExUL2tURnpFc2JPRWRkT0JEDQpPcmxSdHBnTkFtTUNnWUVBaFdoTktkWlQ5WnFYK1plbUhPbVRGeUhXWHJ6VTdLWEhwQVFUTFlsL2hMTWgxUW5aDQp3SSthNENsalFMWk5GMFhwZjA5LzlhK2ZKQndVVnZoR0E2VkQrZytrckFoMGYxUmhoTUZRS2Y5WnlhSzUxczhUDQpraGJ4V2hKTktzV0E5clMzMVhvUUdjbHcwUUw5RlNVd24rZ2RGUFBHMHpXR0hQbUNsbnZMVVpRdzZGa0NnWUFNDQpCLzN6V2ZGZHAvbG9mVDZNQkhTMXNaKzV4bDlHYUJ2ekFCQVllYmYzRDFHaGV2RktDRXdZWXl4WWRiSkh3QVRXDQpnS3EyaTBmMEdnekNVaU5UaUtRTlVFOWtNd0ltNGdGYndURVh3ZmdGNGNIdmQzemFudTRUNS8zSVk4aG0rc3cxDQoxSXRiN2dOQVZGZTlIcWhzNHpQalN3RFgyRDk4eDQ3VTJKOUs3MS9EZ1FLQmdBVUxoV2N0SngwQXFhZDdnMlhDDQpieWZPUmI3WDBnLys1d1JpckR6V3ZJWWswZjdXb0ZHNERhaXloR0R2bDJlK1FhbkYrV1pPcGxCZkc5MGV2cEtRDQpGdVFQNDBqS2xBWTJuVTUyYVUzSC90V1BlTjUzYXJhUGsrd1lpVU52VFQ5OEowYjlic3BOb3hJS0hITXJJckRTDQpYUHJlMHVVdWRHcFcxWEpkTEc4MXM4VkMNCi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0NCg==
  type: Opaque
- kind: Secret
  apiVersion: v1
  metadata:
    name: istio-egressgateway-ca-certs
  data:
    ca-chain.cert.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlETnpDQ0FoK2dBd0lCQWdJVWNyV3oxT0QrcDlkVVNnOVk5NUw5QnpKNUYya3dEUVlKS29aSWh2Y05BUUVMDQpCUUF3S3pFUU1BNEdBMVVFQ2d3SFUzbHVZWEJ6WlRFWE1CVUdBMVVFQXd3T2MzbHRjR3hsTG5OaVpYSXVjblV3DQpIaGNOTWpFeE1qRXdNVFV6TXpJMVdoY05NekV3TWpJMk1UVXpNekkxV2pBck1SQXdEZ1lEVlFRS0RBZFRlVzVoDQpjSE5sTVJjd0ZRWURWUVFEREE1emVXMXdiR1V1YzJKbGNpNXlkVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEDQpnZ0VQQURDQ0FRb0NnZ0VCQUptTHVBd05OczJYRzVvNC9JaGZiN0VwM3NLK2N5UVFkMWNGdmRBL2U2OHZmUWwzDQpTYnAvK2tOOURtM2ZUS20rVkVoK2FKc1pleXJrWmVzMGZlRmg1UllSV1lReHFnQzRRYjI2NWJkRUdPT0w0TCtBDQpLQTFOWmJERFVPOExOWTRRZG5sdCtvdEtnbm5EOFhGNVBGSTIyTUhwRCtCZy9CcHZrcUFQNEN3bDVvV0FYWVdIDQoxaXV3Q3FYRmpIWlVnOFRFWWlKUGlxQmtuUXl2REdINkxKcGdoK3AxNlNuSExsU0NVbWNJeCtVMHJtenJWQkI4DQo5T2c0RjVROWlXSUE3SHN3YkViSWg5WG5IYmlXdGtnY2RWck5KNE9vdjVheS9HY1FnT1U0ZU1qWnNpYmMwa2Z6DQpTcnlOU3hIaXVCSWd6eGR6YllrNDZqM3Z5YWxMRU13dHJsdk51d2tDQXdFQUFhTlRNRkV3SFFZRFZSME9CQllFDQpGT05FZHRVZmlocGxZak5CcEhVSnJ5bm1qZEo2TUI4R0ExVWRJd1FZTUJhQUZPTkVkdFVmaWhwbFlqTkJwSFVKDQpyeW5tamRKNk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFJeFVlSEFpDQppTHRTMVd3Ui9PNVplSC9icHoxWC9LZS9WOUlKYTZyVjJNTFhTQXY3N0cxOXRYVk05bjNRK2puaFkzTEk5Z2x3DQpXc255d21VVE96TGdQSll2R2R3bkptMmZFL0U3RnNuUnFsMWFHdVU3RjZvb2xyT3N3bi9ETUtlYXUzVUIvb1pkDQo0VUplbmNNQStCV2JmVDk4emFaZkI4L2F0R21EQ0JkQXBLbUpPdCswTytlaHU0SE1iRDAyMm5IVHg2eDdpbjYvDQo3K0NXc2IvZVZZZEtuZ2QrUmN0VUlBSUExZXNIS1FUQ29VcnJiL1AzcGRxSnIyWGoxS0tKNGNnWnQ4a1dDbmloDQo4YkZUWWVKSWZsZjBWVERkcnIvdFZtc1F0SStINExNVThjTVBqWnQ4MlVsYlBmU0s2MktnakNCZnc0dmh4eVNDDQpxWU5xYzJTNHowb1hPVnM9DQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo=
  type: Opaque
